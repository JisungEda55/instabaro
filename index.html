<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <script>
    (function() {
      const params = new URLSearchParams(window.location.search);
      const fullUrl = params.get("videoId");
      
      // 기본값
      let videoId = "vHBodN0Mirs";

      if (fullUrl) {
        try {
          // YouTube URL에서 ID 추출
          const urlObj = new URL(fullUrl);
          if (urlObj.hostname.includes("youtu.be")) {
            videoId = urlObj.pathname.slice(1); // /Y9VvBbGiIEs → Y9VvBbGiIEs
          } else if (urlObj.hostname.includes("youtube.com")) {
            videoId = urlObj.searchParams.get("v") || videoId;
          }
        } catch (e) {
          // 비정상적인 URL이면 무시하고 기본값 사용
        }
      }

      const isAndroid = /android/i.test(navigator.userAgent);
      const isiOS = /iPad|iPhone|iPod/.test(navigator.userAgent);

      const appScheme = isAndroid ? 
        `vnd.youtube://${videoId}` : 
        `youtube://watch?v=${videoId}`;

      const webUrl = `https://www.youtube.com/watch?v=${videoId}`;

      if (isAndroid || isiOS) {
        window.location.href = appScheme;
        setTimeout(() => {
          if (!document.webkitHidden && !document.hidden) {
            window.location.href = webUrl;
          }
        }, 1000);
      } else {
        window.location.href = webUrl;
      }
    })();
  </script>
</head>
<body>
</body>
</html>
